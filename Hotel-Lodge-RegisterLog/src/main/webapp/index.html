<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Register Form</title>
</head>
<body>
<div>
<div>
<form id="myForm" action=" http://localhost:8082/Hotel-Lodge-RegisterLog/RegisterServlet" method="post">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
        <span id="nameError" class="error"></span><br>

        <label for="contact">Contact:</label>
        <input type="tel" id="contact" name="contact" pattern="[0-9]{10}" required>
        <span id="contactError" class="error"></span><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email">
        <span id="emailError" class="error"></span><br>

        <label for="checkInDate">Check-in Date:</label>
        <input type="date" id="checkInDate" name="checkInDate" required>
        <span id="checkInDateError" class="error"></span><br>

        <label for="checkOutDate">Check-out Date:</label>
        <input type="date" id="checkOutDate" name="checkOutDate" required>
        <span id="checkOutDateError" class="error"></span><br>

        <input type="submit" value="Submit">
    </form>

    <script>
        document.getElementById('myForm').addEventListener('submit', function (event) {
            var isValid = validateForm();
            if (!isValid) {
                event.preventDefault();
            }
        });

        function validateForm() {
            var isValid = true;

            // Name validation
            var name = document.getElementById('name').value.trim();
            if (name === '') {
                isValid = false;
                document.getElementById('nameError').innerText = 'Name is required';
            } else if (/^\s|\s$|\s{2,}/.test(name)) {
                isValid = false;
                document.getElementById('nameError').innerText = 'Invalid name format';
            }
            else {
                document.getElementById('nameError').innerText = '';
            }
            
            // Contact validation
            var contact = document.getElementById('contact').value.trim();
            var contactPattern = /^[0-9]{10}$/;
            if (!contactPattern.test(contact)) {
                isValid = false;
                document.getElementById('contactError').innerText = 'Enter a valid 10-digit phone number';
            } else {
                document.getElementById('contactError').innerText = '';
            }

            // Email validation
            var email = document.getElementById('email').value.trim();
            var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailPattern.test(email)) {
                isValid = false;
                document.getElementById('emailError').innerText = 'Enter a valid email address';
            } else {
                document.getElementById('emailError').innerText = '';
            }

            // Check-in Date validation
            var checkInDate = new Date(document.getElementById('checkInDate').value + 'T00:00:00');
            var currentDate = new Date();
            currentDate.setHours(0, 0, 0, 0);

            if (checkInDate < currentDate) {
                isValid = false;
                document.getElementById('checkInDateError').innerText = 'Check-in Date must be today or later';
            } else {
                document.getElementById('checkInDateError').innerText = '';
            }

            // Check-out Date validation
            var checkOutDate = new Date(document.getElementById('checkOutDate').value + 'T00:00:00');
            if (checkOutDate < checkInDate) {
                isValid = false;
                document.getElementById('checkOutDateError').innerText = 'Check-out Date must be later than Check-in Date';
            } else {
                document.getElementById('checkOutDateError').innerText = '';
            }

            return isValid;
        }
    </script>
</div>
</div>
</body>
</html>